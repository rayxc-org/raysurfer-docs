---
title: TypeScript SDK
description: "Drop-in replacement for Claude Agent SDK"
---

## Installation

```bash
npm install raysurfer
```

## Setup

Set your API key:

```bash
export RAYSURFER_API_KEY=your_api_key_here
```

Get your key from the [dashboard](https://raysurfer.com/dashboard/api-keys).

## Usage

Swap your client class and method names. Options come directly from `@anthropic-ai/claude-agent-sdk`:

```typescript
// Before
import { ClaudeSDKClient, ClaudeAgentOptions } from "@anthropic-ai/claude-agent-sdk";

// After
import { RaysurferClient } from "raysurfer";
import { ClaudeAgentOptions } from "@anthropic-ai/claude-agent-sdk";

const options: ClaudeAgentOptions = {
  allowedTools: ["Read", "Write", "Bash"],
  systemPrompt: "You are a helpful assistant.",
};

const client = new RaysurferClient(options);

for await (const msg of client.raysurferQuery("Generate quarterly report")) {
  console.log(msg);
}
```

## Method Mapping

| Claude SDK | Raysurfer |
|------------|-----------|
| `new ClaudeSDKClient(options)` | `new RaysurferClient(options)` |
| `client.query(prompt)` | `client.raysurferQuery(prompt)` |

## Options

Options are passed through directly from `@anthropic-ai/claude-agent-sdk`. All standard options work:

```typescript
import { ClaudeAgentOptions } from "@anthropic-ai/claude-agent-sdk";

const options: ClaudeAgentOptions = {
  allowedTools: ["Read", "Write", "Bash"],
  systemPrompt: "You are a helpful assistant.",
  model: "claude-sonnet-4-20250514",
  maxTurns: 10,
  cwd: "/path/to/working/dir",
  // ... all other ClaudeAgentOptions fields
};
```

Caching is enabled automatically when `RAYSURFER_API_KEY` is set.

## Snippet Retrieval Scope

Control which cached snippets are retrieved using `publicSnips` and `snipsDesired`:

```typescript
import { RaysurferClient } from "raysurfer";
import { ClaudeAgentOptions } from "@anthropic-ai/claude-agent-sdk";

const options: ClaudeAgentOptions = {
  allowedTools: ["Read", "Write", "Bash"],
};

// Include both public and company snippets
const client = new RaysurferClient(options, {
  publicSnips: true,        // Include public/shared snippets
  snipsDesired: "company",  // Also include company-level snippets
});

// Enterprise: Retrieve client-specific snippets only
const enterpriseClient = new RaysurferClient(options, {
  snipsDesired: "client",   // Client workspace snippets (Enterprise only)
});
```

| Configuration | Required Tier |
|--------------|---------------|
| `publicSnips: true` only | FREE (default) |
| `snipsDesired: "company"` | TEAM or ENTERPRISE |
| `snipsDesired: "client"` | ENTERPRISE only |

**Default behavior:** FREE tier gets public snippets only. TEAM/ENTERPRISE tiers get company snippets by default (no public). Add `publicSnips: true` to include public snippets on top of your tier's default.

## Full Example

```typescript
import { RaysurferClient } from "raysurfer";
import { ClaudeAgentOptions } from "@anthropic-ai/claude-agent-sdk";

process.env.RAYSURFER_API_KEY = "your_api_key";

const options: ClaudeAgentOptions = {
  allowedTools: ["Read", "Write", "Bash"],
  systemPrompt: "You are a helpful assistant.",
};

const client = new RaysurferClient(options);

// First run: generates and caches code
for await (const msg of client.raysurferQuery("Fetch GitHub trending repos")) {
  console.log(msg);
}

// Second run: retrieves from cache (instant)
for await (const msg of client.raysurferQuery("Fetch GitHub trending repos")) {
  console.log(msg);
}
```

## Without Caching

If `RAYSURFER_API_KEY` is not set, `RaysurferClient` behaves exactly like `ClaudeSDKClient` â€” no caching, just a pass-through wrapper.
