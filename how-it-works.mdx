---
title: How It Works
description: "The magic behind Raysurfer's speed"
---

## The Simple Version

When your agent runs a task it's done before, Raysurfer returns the cached result instantly instead of regenerating it.

```
First run:  Your query → Code generated → Result cached → Code retrieved
Second run: Your query → Cache hit → Code retrieved (instant)
```

That's it. You don't need to manage anything.

## Why This Works

Production agents in 2026 are running longer and longer. Multi-step workflows, complex tool chains, sprawling context windows. They're becoming difficult to context manage and behave consistently.

But here's the thing: **the median run has a typical shape.**

Despite all the complexity, most runs follow similar patterns. Raysurfer captures these patterns and guides the model to execute from the median run's starting point—editing that code file rather than regenerating it from scratch.

This gives you:

- **Better context management** — intermediate outputs between API calls or code functions aren't printed by default, keeping context clean
- **Consistent behavior** — the model starts from proven code instead of improvising each time
- **Faster execution** — skip the generation, go straight to the result

## What Gets Cached

Raysurfer automatically caches:

- Code outputs from your agent
- Generated documents and templates
- Structured data transformations

You don't need to tag or categorize anything. Raysurfer uses semantic matching to find similar past outputs.

## Quality Over Time

Raysurfer tracks which cached outputs work well:

- Outputs that succeed get prioritized
- Outputs that fail get deprioritized
- The system improves automatically

## Verified Snippets

Every cached output is verified before reuse:

- Only successful executions get cached
- Failed outputs are automatically excluded
- Your agent builds a library of proven code over time

## Immutable Snippets

Code snippets in Raysurfer are immutable—they cannot be edited after creation. When you need a modified version of existing code, a new snippet is created instead.

This design provides:

- **Auditability** — complete history of all cached code
- **Reproducibility** — retrieval results are consistent over time
- **Quality tracking** — verdict scores stay tied to the exact code that earned them
